<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Using Data Parallel Cloud Flows to Analyze Historical Event Data
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="An open source framework for large-scale distributed computation and data processing written in F#."/>
    <meta name="author" content="Jan Dzik, Nick Palladinos, Kostas Rontogiannis, Eirik Tsarpalis"/>
    
    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-196x196.png" sizes="196x196"/>
    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-160x160.png" sizes="160x160"/>
    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-96x96.png" sizes="96x96"/>
    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-16x16.png" sizes="16x16"/>
    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-32x32.png" sizes="32x32"/>

    <link type="text/css" rel="stylesheet" href="http://www.mbrace.io/content/style.css" />
    <script type="text/javascript" src="http://www.mbrace.io/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://github.com/mbraceproject/MBrace.Core">github page</a></li>
        </ul>
        <h3 class="muted"><a href="http://www.mbrace.io/index.html">MBrace.Core and MBrace.Azure</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Using-Data-Parallel-Cloud-Flows-to-Analyze-Historical-Event-Data" class="anchor" href="#Using-Data-Parallel-Cloud-Flows-to-Analyze-Historical-Event-Data">Using Data Parallel Cloud Flows to Analyze Historical Event Data</a></h1>
<p>In this example, you learn how to use data parallel cloud flows with historical event data at scale.
The data is drawn directly from open government data on the internet.  This sample has been adapted
from Isaac Abraham's <a href="https://cockneycoder.wordpress.com/2015/10/20/mbrace-cloudflows-and-fsharp-data-a-perfect-match/">blog</a>.</p>
<p>You start by using FSharp.Data and its CSV Type Provider.
Usually the type provider can infer all data types and columns but in this case the file does
not include headers, so weâ€™ll supply them ourselves.
You use a local version of the CSV file which contains a subset of the data
(the live dataset even for a single month is &gt; 10MB)</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs13', 15)" onmouseover="showTip(event, 'fs13', 15)" class="t">HousePrices</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 16)" onmouseover="showTip(event, 'fs14', 16)" class="t">CsvProvider</span><span class="o">&lt;</span> <span class="s">@&quot;../../data/SampleHousePrices.csv&quot;</span>, <span class="i">HasHeaders</span> <span class="o">=</span> <span class="k">true</span><span class="o">&gt;</span>
</code></pre></td>
</tr>
</table>
<p>With that, you have a strongly-typed way to parse CSV data.</p>
<p>Here is the input data.  (Each of these files is ~70MB but can take a significant amount of time to download
due to possible rate-limiting from the server).</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 17)" onmouseover="showTip(event, 'fs15', 17)" class="i">smallSources</span> <span class="o">=</span> 
  [ <span class="s">&quot;http://prod.publicdata.landregistry.gov.uk.s3-website-eu-west-1.amazonaws.com/pp-2012-part1.csv&quot;</span> ]

<span class="c">(* For larger data you can add more years: *)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 18)" onmouseover="showTip(event, 'fs16', 18)" class="i">bigSources</span> <span class="o">=</span> 
  [ <span class="s">&quot;http://prod.publicdata.landregistry.gov.uk.s3-website-eu-west-1.amazonaws.com/pp-2012.csv&quot;</span>
    <span class="s">&quot;http://prod.publicdata.landregistry.gov.uk.s3-website-eu-west-1.amazonaws.com/pp-2013.csv&quot;</span>
    <span class="s">&quot;http://prod.publicdata.landregistry.gov.uk.s3-website-eu-west-1.amazonaws.com/pp-2014.csv&quot;</span>
    <span class="s">&quot;http://prod.publicdata.landregistry.gov.uk.s3-website-eu-west-1.amazonaws.com/pp-2015.csv&quot;</span>  ]

<span class="c">(* For testing you can uses micro data: *)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 19)" onmouseover="showTip(event, 'fs17', 19)" class="i">tinySources</span> <span class="o">=</span> 
  [ <span class="s">&quot;https://raw.githubusercontent.com/mbraceproject/MBrace.StarterKit/master/data/&quot;</span> 
    <span class="o">+</span> <span class="s">&quot;SampleHousePriceFile.csv&quot;</span> ]
</code></pre></td>
</tr>
</table>
<p>Now, stream the data source from the original web location and
across the cluster, then convert the raw text to our CSV provided type.
Entries are grouped by month and the average price for each month is computed.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//let sources = tinySources</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 20)" onmouseover="showTip(event, 'fs18', 20)" class="i">sources</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 21)" onmouseover="showTip(event, 'fs15', 21)" class="i">smallSources</span>
<span class="c">//let sources = bigSources</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 22)" onmouseover="showTip(event, 'fs19', 22)" class="i">pricesTask</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs18', 23)" onmouseover="showTip(event, 'fs18', 23)" class="i">sources</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 24)" onmouseover="showTip(event, 'fs20', 24)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 25)" onmouseover="showTip(event, 'fs21', 25)" class="f">OfHttpFileByLine</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 26)" onmouseover="showTip(event, 'fs20', 26)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 27)" onmouseover="showTip(event, 'fs22', 27)" class="f">collect</span> <span onmouseout="hideTip(event, 'fs13', 28)" onmouseover="showTip(event, 'fs13', 28)" class="t">HousePrices</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 29)" onmouseover="showTip(event, 'fs23', 29)" class="f">ParseRows</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 30)" onmouseover="showTip(event, 'fs20', 30)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 31)" onmouseover="showTip(event, 'fs24', 31)" class="f">averageByKey</span> 
            (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 32)" onmouseover="showTip(event, 'fs25', 32)" class="i">row</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs25', 33)" onmouseover="showTip(event, 'fs25', 33)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 34)" onmouseover="showTip(event, 'fs26', 34)" class="i">DateOfTransfer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 35)" onmouseover="showTip(event, 'fs27', 35)" class="i">Year</span>, <span onmouseout="hideTip(event, 'fs25', 36)" onmouseover="showTip(event, 'fs25', 36)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 37)" onmouseover="showTip(event, 'fs26', 37)" class="i">DateOfTransfer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 38)" onmouseover="showTip(event, 'fs28', 38)" class="i">Month</span>) 
            (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 39)" onmouseover="showTip(event, 'fs25', 39)" class="i">row</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs29', 40)" onmouseover="showTip(event, 'fs29', 40)" class="f">float</span> <span onmouseout="hideTip(event, 'fs25', 41)" onmouseover="showTip(event, 'fs25', 41)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 42)" onmouseover="showTip(event, 'fs30', 42)" class="i">Price</span>)
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 43)" onmouseover="showTip(event, 'fs20', 43)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 44)" onmouseover="showTip(event, 'fs31', 44)" class="f">sortBy</span> <span onmouseout="hideTip(event, 'fs32', 45)" onmouseover="showTip(event, 'fs32', 45)" class="f">fst</span> <span class="n">100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 46)" onmouseover="showTip(event, 'fs20', 46)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 47)" onmouseover="showTip(event, 'fs33', 47)" class="f">toArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 48)" onmouseover="showTip(event, 'fs10', 48)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 49)" onmouseover="showTip(event, 'fs34', 49)" class="f">CreateProcess</span>
</code></pre></td>
</tr>
</table>
<p>A <em>CloudFlow</em> is an MBrace primitive which allows a distributed set of transformations to be chained together.
A CloudFlow pipeline is partitioned across the cluster, making full use of resources available:
only when the pipelines are completed in each partition are they aggregated together again.</p>
<p>Now observe the progress. Time will depend on download speeds to your data center or location.<br />
For the large data sets above you can expect approximately 2 minutes.</p>
<p>While you're waiting, notice that you're using type providers <em>in tandem</em> with cloud computations.
Once we call the ParseRows function, in the next call in the pipeline,
weâ€™re working with a strongly-typed object model â€“ so DateOfTransfer is a proper DateTime etc.
For example, if you hit "." after "row" you will see the available information
includes <code>Locality</code>, <code>Price</code>, <code>Street</code>, <code>Postcode</code> and so on.
In addition, all dependent assemblies have automatically been shipped with MBrace.
MBrace wasnâ€™t explicitly designed to work with FSharp.Data and F# type providers â€“ <em>it just works</em>.</p>
<p>Now wait for the results.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs19', 50)" onmouseover="showTip(event, 'fs19', 50)" class="i">pricesTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 51)" onmouseover="showTip(event, 'fs35', 51)" class="f">ShowInfo</span>()
<span onmouseout="hideTip(event, 'fs10', 52)" onmouseover="showTip(event, 'fs10', 52)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs36', 53)" onmouseover="showTip(event, 'fs36', 53)" class="f">ShowWorkers</span>()

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 54)" onmouseover="showTip(event, 'fs37', 54)" class="i">prices</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs19', 55)" onmouseover="showTip(event, 'fs19', 55)" class="i">pricesTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 56)" onmouseover="showTip(event, 'fs38', 56)" class="i">Result</span>
</code></pre></td>
</tr>
</table>
<p>Now that you have a summary array of year, month and price data, you can chart the data.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 57)" onmouseover="showTip(event, 'fs39', 57)" class="f">formatYearMonth</span> (<span onmouseout="hideTip(event, 'fs40', 58)" onmouseover="showTip(event, 'fs40', 58)" class="i">year</span>,<span onmouseout="hideTip(event, 'fs41', 59)" onmouseover="showTip(event, 'fs41', 59)" class="i">month</span>) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs42', 60)" onmouseover="showTip(event, 'fs42', 60)" class="f">sprintf</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs43', 61)" onmouseover="showTip(event, 'fs43', 61)" class="t">DateTime</span>(<span onmouseout="hideTip(event, 'fs40', 62)" onmouseover="showTip(event, 'fs40', 62)" class="i">year</span>, <span onmouseout="hideTip(event, 'fs41', 63)" onmouseover="showTip(event, 'fs41', 63)" class="i">month</span>, <span class="n">1</span>)<span class="o">.</span><span class="f">ToString</span>(<span class="s">&quot;yyyy-MMM&quot;</span>))

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs44', 64)" onmouseover="showTip(event, 'fs44', 64)" class="f">chartPrices</span> <span onmouseout="hideTip(event, 'fs45', 65)" onmouseover="showTip(event, 'fs45', 65)" class="i">prices</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs45', 66)" onmouseover="showTip(event, 'fs45', 66)" class="i">prices</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs46', 67)" onmouseover="showTip(event, 'fs46', 67)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 68)" onmouseover="showTip(event, 'fs47', 68)" class="f">map</span>(<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs48', 69)" onmouseover="showTip(event, 'fs48', 69)" class="i">ym</span>, <span onmouseout="hideTip(event, 'fs49', 70)" onmouseover="showTip(event, 'fs49', 70)" class="i">price</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs39', 71)" onmouseover="showTip(event, 'fs39', 71)" class="f">formatYearMonth</span> <span onmouseout="hideTip(event, 'fs48', 72)" onmouseover="showTip(event, 'fs48', 72)" class="i">ym</span>, <span onmouseout="hideTip(event, 'fs49', 73)" onmouseover="showTip(event, 'fs49', 73)" class="i">price</span>)
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs50', 74)" onmouseover="showTip(event, 'fs50', 74)" class="t">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 75)" onmouseover="showTip(event, 'fs51', 75)" class="f">Line</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs50', 76)" onmouseover="showTip(event, 'fs50', 76)" class="t">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 77)" onmouseover="showTip(event, 'fs52', 77)" class="f">WithOptions</span>(<span onmouseout="hideTip(event, 'fs53', 78)" onmouseover="showTip(event, 'fs53', 78)" class="t">Options</span>(<span class="i">curveType</span> <span class="o">=</span> <span class="s">&quot;function&quot;</span>))
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs50', 79)" onmouseover="showTip(event, 'fs50', 79)" class="t">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 80)" onmouseover="showTip(event, 'fs54', 80)" class="f">Show</span>

<span onmouseout="hideTip(event, 'fs44', 81)" onmouseover="showTip(event, 'fs44', 81)" class="f">chartPrices</span> <span onmouseout="hideTip(event, 'fs37', 82)" onmouseover="showTip(event, 'fs37', 82)" class="i">prices</span>
</code></pre></td>
</tr>
</table>
<p><img src="../img/house-prices-chart-1.png" alt="Price over time (2012 subset of data)" /></p>
<h2><a name="Persisted-Cloud-Flows" class="anchor" href="#Persisted-Cloud-Flows">Persisted Cloud Flows</a></h2>
<p>To prevent repeated work, MBrace supports something called Persisted Cloud Flows (known in the Spark world as RDDs).
These are flows whose results are partitioned and cached across the cluster, ready to be re-used again and again.
This is particularly useful if you have an intermediary result set that you wish to query multiple times.</p>
<p>In this case, you now persist the first few lines of the computation
(which involves downloading the data from source and parsing with the CSV Type Provider),
ready to be used for any number of strongly-typed queries we might have: â€“</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// download data, convert to provided type and partition across nodes in-memory only</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 83)" onmouseover="showTip(event, 'fs55', 83)" class="i">persistedHousePricesTask</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs18', 84)" onmouseover="showTip(event, 'fs18', 84)" class="i">sources</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 85)" onmouseover="showTip(event, 'fs20', 85)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 86)" onmouseover="showTip(event, 'fs21', 86)" class="f">OfHttpFileByLine</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 87)" onmouseover="showTip(event, 'fs20', 87)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 88)" onmouseover="showTip(event, 'fs22', 88)" class="f">collect</span> <span onmouseout="hideTip(event, 'fs13', 89)" onmouseover="showTip(event, 'fs13', 89)" class="t">HousePrices</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 90)" onmouseover="showTip(event, 'fs23', 90)" class="f">ParseRows</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 91)" onmouseover="showTip(event, 'fs20', 91)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs56', 92)" onmouseover="showTip(event, 'fs56', 92)" class="f">persist</span> <span class="i">StorageLevel</span><span class="o">.</span><span class="i">Memory</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 93)" onmouseover="showTip(event, 'fs10', 93)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 94)" onmouseover="showTip(event, 'fs34', 94)" class="f">CreateProcess</span>
</code></pre></td>
</tr>
</table>
<p>Now observe progress:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs55', 95)" onmouseover="showTip(event, 'fs55', 95)" class="i">persistedHousePricesTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 96)" onmouseover="showTip(event, 'fs35', 96)" class="f">ShowInfo</span>()
<span onmouseout="hideTip(event, 'fs10', 97)" onmouseover="showTip(event, 'fs10', 97)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs36', 98)" onmouseover="showTip(event, 'fs36', 98)" class="f">ShowWorkers</span>()
</code></pre></td>
</tr>
</table>
<p>Now wait for the results:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 99)" onmouseover="showTip(event, 'fs57', 99)" class="i">persistedHousePrices</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 100)" onmouseover="showTip(event, 'fs55', 100)" class="i">persistedHousePricesTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 101)" onmouseover="showTip(event, 'fs58', 101)" class="i">Result</span>
</code></pre></td>
</tr>
</table>
<p>The input file will have been partitioned depending on the number of workers in your cluster.
The partitions are already assigned to different workers.
With the results persisted on the nodes, we can use them again and again.</p>
<p>First, get the total number of entries across the partitioned, persisted result:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 102)" onmouseover="showTip(event, 'fs59', 102)" class="i">count</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs57', 103)" onmouseover="showTip(event, 'fs57', 103)" class="i">persistedHousePrices</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 104)" onmouseover="showTip(event, 'fs20', 104)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs60', 105)" onmouseover="showTip(event, 'fs60', 105)" class="f">length</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 106)" onmouseover="showTip(event, 'fs10', 106)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 107)" onmouseover="showTip(event, 'fs61', 107)" class="f">Run</span>
</code></pre></td>
</tr>
</table>
<p>Next, get the first 100 entries:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 108)" onmouseover="showTip(event, 'fs62', 108)" class="i">first100</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs57', 109)" onmouseover="showTip(event, 'fs57', 109)" class="i">persistedHousePrices</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 110)" onmouseover="showTip(event, 'fs20', 110)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 111)" onmouseover="showTip(event, 'fs63', 111)" class="f">take</span> <span class="n">100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 112)" onmouseover="showTip(event, 'fs20', 112)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 113)" onmouseover="showTip(event, 'fs33', 113)" class="f">toArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 114)" onmouseover="showTip(event, 'fs10', 114)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 115)" onmouseover="showTip(event, 'fs61', 115)" class="f">Run</span>
</code></pre></td>
</tr>
</table>
<p>Next, get the average house price by year/month.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 116)" onmouseover="showTip(event, 'fs64', 116)" class="i">pricesByMonthTask</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs57', 117)" onmouseover="showTip(event, 'fs57', 117)" class="i">persistedHousePrices</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 118)" onmouseover="showTip(event, 'fs20', 118)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 119)" onmouseover="showTip(event, 'fs24', 119)" class="f">averageByKey</span> 
          (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 120)" onmouseover="showTip(event, 'fs25', 120)" class="i">row</span> <span class="k">-&gt;</span> (<span onmouseout="hideTip(event, 'fs25', 121)" onmouseover="showTip(event, 'fs25', 121)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 122)" onmouseover="showTip(event, 'fs26', 122)" class="i">DateOfTransfer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 123)" onmouseover="showTip(event, 'fs27', 123)" class="i">Year</span>, <span onmouseout="hideTip(event, 'fs25', 124)" onmouseover="showTip(event, 'fs25', 124)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 125)" onmouseover="showTip(event, 'fs26', 125)" class="i">DateOfTransfer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 126)" onmouseover="showTip(event, 'fs28', 126)" class="i">Month</span>)) 
          (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 127)" onmouseover="showTip(event, 'fs25', 127)" class="i">row</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs29', 128)" onmouseover="showTip(event, 'fs29', 128)" class="f">float</span> <span onmouseout="hideTip(event, 'fs25', 129)" onmouseover="showTip(event, 'fs25', 129)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 130)" onmouseover="showTip(event, 'fs30', 130)" class="i">Price</span>)
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 131)" onmouseover="showTip(event, 'fs20', 131)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 132)" onmouseover="showTip(event, 'fs31', 132)" class="f">sortBy</span> <span onmouseout="hideTip(event, 'fs32', 133)" onmouseover="showTip(event, 'fs32', 133)" class="f">fst</span> <span class="n">100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 134)" onmouseover="showTip(event, 'fs20', 134)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 135)" onmouseover="showTip(event, 'fs33', 135)" class="f">toArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 136)" onmouseover="showTip(event, 'fs10', 136)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 137)" onmouseover="showTip(event, 'fs34', 137)" class="f">CreateProcess</span>
</code></pre></td>
</tr>
</table>
<p>Make a chart of the results. This will be the same chart as before, but based on persisted results.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs64', 138)" onmouseover="showTip(event, 'fs64', 138)" class="i">pricesByMonthTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 139)" onmouseover="showTip(event, 'fs35', 139)" class="f">ShowInfo</span>()
<span onmouseout="hideTip(event, 'fs64', 140)" onmouseover="showTip(event, 'fs64', 140)" class="i">pricesByMonthTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 141)" onmouseover="showTip(event, 'fs38', 141)" class="i">Result</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 142)" onmouseover="showTip(event, 'fs65', 142)" class="i">pricesByMonth</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs64', 143)" onmouseover="showTip(event, 'fs64', 143)" class="i">pricesByMonthTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 144)" onmouseover="showTip(event, 'fs38', 144)" class="i">Result</span>

<span onmouseout="hideTip(event, 'fs65', 145)" onmouseover="showTip(event, 'fs65', 145)" class="i">pricesByMonth</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs44', 146)" onmouseover="showTip(event, 'fs44', 146)" class="f">chartPrices</span>
</code></pre></td>
</tr>
</table>
<p>Next, get the average prices per street. This takes a fair while since there are a lot of streets.
We persist the results: CloudFlow.cache is the same as persiting to memory.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 147)" onmouseover="showTip(event, 'fs66', 147)" class="i">averagePricesTask</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs57', 148)" onmouseover="showTip(event, 'fs57', 148)" class="i">persistedHousePrices</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 149)" onmouseover="showTip(event, 'fs20', 149)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 150)" onmouseover="showTip(event, 'fs24', 150)" class="f">averageByKey</span>
          (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 151)" onmouseover="showTip(event, 'fs25', 151)" class="i">row</span> <span class="k">-&gt;</span> (<span onmouseout="hideTip(event, 'fs25', 152)" onmouseover="showTip(event, 'fs25', 152)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs67', 153)" onmouseover="showTip(event, 'fs67', 153)" class="i">TownCity</span>, <span onmouseout="hideTip(event, 'fs25', 154)" onmouseover="showTip(event, 'fs25', 154)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs68', 155)" onmouseover="showTip(event, 'fs68', 155)" class="i">District</span>, <span onmouseout="hideTip(event, 'fs25', 156)" onmouseover="showTip(event, 'fs25', 156)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs69', 157)" onmouseover="showTip(event, 'fs69', 157)" class="i">Street</span>))
          (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 158)" onmouseover="showTip(event, 'fs25', 158)" class="i">row</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs29', 159)" onmouseover="showTip(event, 'fs29', 159)" class="f">float</span> <span onmouseout="hideTip(event, 'fs25', 160)" onmouseover="showTip(event, 'fs25', 160)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 161)" onmouseover="showTip(event, 'fs30', 161)" class="i">Price</span>)
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 162)" onmouseover="showTip(event, 'fs20', 162)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs70', 163)" onmouseover="showTip(event, 'fs70', 163)" class="f">cache</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 164)" onmouseover="showTip(event, 'fs10', 164)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 165)" onmouseover="showTip(event, 'fs34', 165)" class="f">CreateProcess</span>

<span onmouseout="hideTip(event, 'fs66', 166)" onmouseover="showTip(event, 'fs66', 166)" class="i">averagePricesTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 167)" onmouseover="showTip(event, 'fs35', 167)" class="f">ShowInfo</span>()

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 168)" onmouseover="showTip(event, 'fs71', 168)" class="i">averagePrices</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs66', 169)" onmouseover="showTip(event, 'fs66', 169)" class="i">averagePricesTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs72', 170)" onmouseover="showTip(event, 'fs72', 170)" class="i">Result</span>
</code></pre></td>
</tr>
</table>
<p>Next, use the cached results to get the most expensive city and street.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs73', 171)" onmouseover="showTip(event, 'fs73', 171)" class="i">mostExpensive</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs71', 172)" onmouseover="showTip(event, 'fs71', 172)" class="i">averagePrices</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 173)" onmouseover="showTip(event, 'fs20', 173)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 174)" onmouseover="showTip(event, 'fs74', 174)" class="f">sortByDescending</span> <span onmouseout="hideTip(event, 'fs75', 175)" onmouseover="showTip(event, 'fs75', 175)" class="f">snd</span> <span class="n">100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 176)" onmouseover="showTip(event, 'fs20', 176)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 177)" onmouseover="showTip(event, 'fs33', 177)" class="f">toArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 178)" onmouseover="showTip(event, 'fs10', 178)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 179)" onmouseover="showTip(event, 'fs61', 179)" class="f">Run</span>
</code></pre></td>
</tr>
</table>
<p>Next, use the cached results to also get the least expensive city and street.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs76', 180)" onmouseover="showTip(event, 'fs76', 180)" class="i">leastExpensive</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs71', 181)" onmouseover="showTip(event, 'fs71', 181)" class="i">averagePrices</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 182)" onmouseover="showTip(event, 'fs20', 182)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 183)" onmouseover="showTip(event, 'fs31', 183)" class="f">sortBy</span> <span onmouseout="hideTip(event, 'fs75', 184)" onmouseover="showTip(event, 'fs75', 184)" class="f">snd</span> <span class="n">100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 185)" onmouseover="showTip(event, 'fs20', 185)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 186)" onmouseover="showTip(event, 'fs33', 186)" class="f">toArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 187)" onmouseover="showTip(event, 'fs10', 187)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 188)" onmouseover="showTip(event, 'fs61', 188)" class="f">Run</span>
</code></pre></td>
</tr>
</table>
<p>Count the sales by city:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs77', 189)" onmouseover="showTip(event, 'fs77', 189)" class="i">purchasesByCity</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs57', 190)" onmouseover="showTip(event, 'fs57', 190)" class="i">persistedHousePrices</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 191)" onmouseover="showTip(event, 'fs20', 191)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 192)" onmouseover="showTip(event, 'fs78', 192)" class="f">countBy</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 193)" onmouseover="showTip(event, 'fs25', 193)" class="i">row</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs25', 194)" onmouseover="showTip(event, 'fs25', 194)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs67', 195)" onmouseover="showTip(event, 'fs67', 195)" class="i">TownCity</span>)
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 196)" onmouseover="showTip(event, 'fs20', 196)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 197)" onmouseover="showTip(event, 'fs74', 197)" class="f">sortByDescending</span> <span onmouseout="hideTip(event, 'fs75', 198)" onmouseover="showTip(event, 'fs75', 198)" class="f">snd</span> <span class="n">1500</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 199)" onmouseover="showTip(event, 'fs20', 199)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 200)" onmouseover="showTip(event, 'fs33', 200)" class="f">toArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 201)" onmouseover="showTip(event, 'fs10', 201)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 202)" onmouseover="showTip(event, 'fs61', 202)" class="f">Run</span>

<span onmouseout="hideTip(event, 'fs50', 203)" onmouseover="showTip(event, 'fs50', 203)" class="t">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 204)" onmouseover="showTip(event, 'fs79', 204)" class="f">Pie</span> <span onmouseout="hideTip(event, 'fs77', 205)" onmouseover="showTip(event, 'fs77', 205)" class="i">purchasesByCity</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs50', 206)" onmouseover="showTip(event, 'fs50', 206)" class="t">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 207)" onmouseover="showTip(event, 'fs54', 207)" class="f">Show</span>
</code></pre></td>
</tr>
</table>
<p><img src="../img/house-prices-by-city.png" alt="Count by city" /></p>
<p>And so on.</p>
<p>So notice that the first query takes 45 seconds to execute,
which involves downloading the data and parsing it via the CSV type provider.
Once weâ€™ve done that, we persist it across the cluster in memory â€“
then we can re-use that persisted flow in all subsequent queries, each of which just takes a few seconds to run.</p>
<h3><a name="Finding-the-Current-Prices-of-Monopoly-Streets" class="anchor" href="#Finding-the-Current-Prices-of-Monopoly-Streets">Finding the Current Prices of Monopoly Streets</a></h3>
<p>We all know and love the game <a href="https://en.wikipedia.org/wiki/Go_to_jail">Monopoly</a>.
For those who grew up in the United Kingdom or Australia, you probably played
using the London street names and prices where buying Mayfair cost Â£400.  But how do
prices today look, and which streets are now the most expensive?</p>
<p>Next, you get the list of all streets on the Monopoly board using the HTML type provider
over <a href="http://www.jdawiseman.com/papers/trivia/monopoly-rents.html">this web page</a>.
This is a type provider in FSharp.Data that helps you crack the content of HTML tables.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs80', 208)" onmouseover="showTip(event, 'fs80', 208)" class="t">MonopolyTable</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs81', 209)" onmouseover="showTip(event, 'fs81', 209)" class="t">HtmlProvider</span><span class="o">&lt;</span><span class="s">&quot;http://www.jdawiseman.com/papers/trivia/monopoly-rents.html&quot;</span><span class="o">&gt;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs82', 210)" onmouseover="showTip(event, 'fs82', 210)" class="i">monopolyPage</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs80', 211)" onmouseover="showTip(event, 'fs80', 211)" class="t">MonopolyTable</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 212)" onmouseover="showTip(event, 'fs83', 212)" class="f">GetSample</span>()
</code></pre></td>
</tr>
</table>
<p>This page contains a particular table with all the property names for the UK edition of Monopoly:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs84', 213)" onmouseover="showTip(event, 'fs84', 213)" class="i">data</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs82', 214)" onmouseover="showTip(event, 'fs82', 214)" class="i">monopolyPage</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 215)" onmouseover="showTip(event, 'fs85', 215)" class="i">Tables</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 216)" onmouseover="showTip(event, 'fs86', 216)" class="i">Table2</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs87', 217)" onmouseover="showTip(event, 'fs87', 217)" class="i">Rows</span> 
</code></pre></td>
</tr>
</table>
<p>Giving:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">[(<span class="s">&quot;Property&quot;</span>, <span class="s">&quot;Cost&quot;</span>, <span class="s">&quot;Mâ€™tg&quot;</span>, <span class="s">&quot;Site&quot;</span>, <span class="s">&quot;1 hse&quot;</span>, <span class="s">&quot;2 hses&quot;</span>, <span class="s">&quot;3 hses&quot;</span>, <span class="s">&quot;4 hses&quot;</span>,<span class="s">&quot;Hotel&quot;</span>);
 (<span class="s">&quot;Old Kent Road&quot;</span>, <span class="s">&quot;60&quot;</span>, <span class="s">&quot;30&quot;</span>, <span class="s">&quot;2&quot;</span>, <span class="s">&quot;10&quot;</span>, <span class="s">&quot;30&quot;</span>, <span class="s">&quot;90&quot;</span>, <span class="s">&quot;160&quot;</span>, <span class="s">&quot;250&quot;</span>);
 <span class="o">..</span><span class="o">.</span>
 (<span class="s">&quot;Park Lane&quot;</span>, <span class="s">&quot;350&quot;</span>, <span class="s">&quot;175&quot;</span>, <span class="s">&quot;35&quot;</span>, <span class="s">&quot;175&quot;</span>, <span class="s">&quot;500&quot;</span>, <span class="s">&quot;1100&quot;</span>, <span class="s">&quot;1300&quot;</span>, <span class="s">&quot;1500&quot;</span>);
 (<span class="s">&quot;Mayfair&quot;</span>, <span class="s">&quot;400&quot;</span>, <span class="s">&quot;200&quot;</span>, <span class="s">&quot;50&quot;</span>, <span class="s">&quot;200&quot;</span>, <span class="s">&quot;600&quot;</span>, <span class="s">&quot;1400&quot;</span>, <span class="s">&quot;1700&quot;</span>, <span class="s">&quot;2000&quot;</span>)]
</code></pre></td>
</tr>
</table>
<p>Next you put the names into a set, converting them to lower case as you go:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs88', 218)" onmouseover="showTip(event, 'fs88', 218)" class="i">monopolyStreets</span> <span class="o">=</span> 
        [ <span class="k">for</span> <span onmouseout="hideTip(event, 'fs89', 219)" onmouseover="showTip(event, 'fs89', 219)" class="i">p</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs84', 220)" onmouseover="showTip(event, 'fs84', 220)" class="i">data</span> <span class="k">do</span> 
             <span class="k">let</span> <span onmouseout="hideTip(event, 'fs90', 221)" onmouseover="showTip(event, 'fs90', 221)" class="i">streetName</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs89', 222)" onmouseover="showTip(event, 'fs89', 222)" class="i">p</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs91', 223)" onmouseover="showTip(event, 'fs91', 223)" class="i">Property</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 224)" onmouseover="showTip(event, 'fs92', 224)" class="f">ToLower</span>()
             <span class="c">// Strip off the header </span>
             <span class="k">if</span> <span onmouseout="hideTip(event, 'fs90', 225)" onmouseover="showTip(event, 'fs90', 225)" class="i">streetName</span> <span class="o">&lt;&gt;</span> <span class="s">&quot;Property&quot;</span> <span class="k">then</span> 
                 <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs90', 226)" onmouseover="showTip(event, 'fs90', 226)" class="i">streetName</span>
          <span class="c">// Yield one random street in Mayfair</span>
          <span class="k">yield</span> <span class="s">&quot;Grosvenor Street&quot;</span><span class="o">.</span><span class="f">ToLower</span>()]
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs93', 227)" onmouseover="showTip(event, 'fs93', 227)" class="f">set</span>
</code></pre></td>
</tr>
</table>
<p>Next, you find the sales that correspond to Monopoly streets, again reusing your calculation
of average-prices on streets:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs94', 228)" onmouseover="showTip(event, 'fs94', 228)" class="i">monopoly</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs71', 229)" onmouseover="showTip(event, 'fs71', 229)" class="i">averagePrices</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 230)" onmouseover="showTip(event, 'fs20', 230)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs95', 231)" onmouseover="showTip(event, 'fs95', 231)" class="f">filter</span> (<span class="k">fun</span> ((<span onmouseout="hideTip(event, 'fs96', 232)" onmouseover="showTip(event, 'fs96', 232)" class="i">city</span>, <span onmouseout="hideTip(event, 'fs97', 233)" onmouseover="showTip(event, 'fs97', 233)" class="i">district</span>, <span onmouseout="hideTip(event, 'fs98', 234)" onmouseover="showTip(event, 'fs98', 234)" class="i">street</span>),<span onmouseout="hideTip(event, 'fs99', 235)" onmouseover="showTip(event, 'fs99', 235)" class="i">price</span>) <span class="k">-&gt;</span> 
          <span class="i">city</span> <span class="o">=</span> <span class="s">&quot;LONDON&quot;</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs88', 236)" onmouseover="showTip(event, 'fs88', 236)" class="i">monopolyStreets</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs100', 237)" onmouseover="showTip(event, 'fs100', 237)" class="f">Contains</span>(<span class="i">street</span><span class="o">.</span><span class="f">ToLower</span>())) 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 238)" onmouseover="showTip(event, 'fs20', 238)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 239)" onmouseover="showTip(event, 'fs74', 239)" class="f">sortByDescending</span> <span onmouseout="hideTip(event, 'fs75', 240)" onmouseover="showTip(event, 'fs75', 240)" class="f">snd</span> <span class="n">100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 241)" onmouseover="showTip(event, 'fs20', 241)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 242)" onmouseover="showTip(event, 'fs33', 242)" class="f">toArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 243)" onmouseover="showTip(event, 'fs10', 243)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 244)" onmouseover="showTip(event, 'fs61', 244)" class="f">Run</span>
</code></pre></td>
</tr>
</table>
<p>You're done! If you are using the large 4-year data set, you will see this:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">[|((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF WESTMINSTER&quot;</span>, <span class="s">&quot;TRAFALGAR SQUARE&quot;</span>), <span class="n">5540000.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF WESTMINSTER&quot;</span>, <span class="s">&quot;PICCADILLY&quot;</span>), <span class="n">3500000.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF WESTMINSTER&quot;</span>, <span class="s">&quot;THE STRAND&quot;</span>), <span class="n">3100000.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;KENSINGTON AND CHELSEA&quot;</span>, <span class="s">&quot;MARLBOROUGH STREET&quot;</span>), <span class="n">2975000.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF WESTMINSTER&quot;</span>, <span class="s">&quot;PARK LANE&quot;</span>), <span class="n">2465000.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF WESTMINSTER&quot;</span>, <span class="s">&quot;OXFORD STREET&quot;</span>), <span class="n">1803150.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF WESTMINSTER&quot;</span>, <span class="s">&quot;WHITEHALL&quot;</span>), <span class="n">1130000.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF WESTMINSTER&quot;</span>, <span class="s">&quot;BOW STREET&quot;</span>), <span class="n">1056428.571</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CAMDEN&quot;</span>, <span class="s">&quot;EUSTON ROAD&quot;</span>), <span class="n">1045781.25</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF WESTMINSTER&quot;</span>, <span class="s">&quot;GROSVENOR STREET&quot;</span>), <span class="n">717400.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF WESTMINSTER&quot;</span>, <span class="s">&quot;PALL MALL&quot;</span>), <span class="n">700000.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;CITY OF LONDON&quot;</span>, <span class="s">&quot;FLEET STREET&quot;</span>), <span class="n">621111.1111</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;BRENT&quot;</span>, <span class="s">&quot;REGENT STREET&quot;</span>), <span class="n">581421.4286</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;REDBRIDGE&quot;</span>, <span class="s">&quot;NORTHUMBERLAND AVENUE&quot;</span>), <span class="n">549850.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;ISLINGTON&quot;</span>, <span class="s">&quot;PENTONVILLE ROAD&quot;</span>), <span class="n">539376.4634</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;NEWHAM&quot;</span>, <span class="s">&quot;BOND STREET&quot;</span>), <span class="n">360000.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;TOWER HAMLETS&quot;</span>, <span class="s">&quot;WHITECHAPEL ROAD&quot;</span>), <span class="n">330071.4286</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;ENFIELD&quot;</span>, <span class="s">&quot;PARK LANE&quot;</span>), <span class="n">290400.0</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;SOUTHWARK&quot;</span>, <span class="s">&quot;OLD KENT ROAD&quot;</span>), <span class="n">266975.6622</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;HARINGEY&quot;</span>, <span class="s">&quot;PARK LANE&quot;</span>), <span class="n">210770.8333</span>);
  ((<span class="s">&quot;LONDON&quot;</span>, <span class="s">&quot;EALING&quot;</span>, <span class="s">&quot;BOND STREET&quot;</span>), <span class="n">206000.0</span>)|]
</code></pre></td>
</tr>
</table>
<p>Some of these results are false: they are probably not the streets being referred
to in the Monopoly game!  But most are accurate.  You will see that the "red" set
does particularly well in the 21st century!!  Also, many of the "cheap" properties
are still at the lower end of the list, albeit at roughly 7,000x the price of the original
game!</p>
<h2><a name="Summary" class="anchor" href="#Summary">Summary</a></h2>
<p>In this example, you've learned how to use data parallel cloud flows with historical event data
drawn directly from the internet.  By using F# type providers (FSharp.Data) plus a sample of the data
you have given strong types to your information.  You then learned how to persist partial results
and to calculate averages and sums of groups of the data.</p>
<p>Continue with further samples to learn more about the MBrace programming model.</p>
<blockquote>
<p>Note, you can use the above techniques from both scripts and compiled projects. To see the components referenced
by this script, see <a href="../ThespianCluster.html">ThespianCluster.fsx</a> or <a href="../AzureCluster.html">AzureCluster.fsx</a>.</p>
</blockquote>

<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.IO</div>
<div class="tip" id="fs3">namespace XPlot</div>
<div class="tip" id="fs4">module GoogleCharts<br /><br />from XPlot</div>
<div class="tip" id="fs5">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="tip" id="fs6">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs7">namespace MBrace</div>
<div class="tip" id="fs8">namespace MBrace.Core</div>
<div class="tip" id="fs9">namespace MBrace.Flow</div>
<div class="tip" id="fs10">val cluster : MBrace.Thespian.ThespianCluster<br /><br />Full name: 200-house-data-analysis-example.cluster</div>
<div class="tip" id="fs11">module Config</div>
<div class="tip" id="fs12">val GetCluster : unit -&gt; MBrace.Thespian.ThespianCluster<br /><br />Full name: Config.GetCluster<br /><em><br /><br />&#160;Gets or creates a new Thespian cluster session.</em></div>
<div class="tip" id="fs13">type HousePrices = CsvProvider&lt;...&gt;<br /><br />Full name: 200-house-data-analysis-example.HousePrices</div>
<div class="tip" id="fs14">type CsvProvider<br /><br />Full name: FSharp.Data.CsvProvider<br /><em><br /><br />&lt;summary&gt;Typed representation of a CSV file.&lt;/summary&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Sample&#39;&gt;Location of a CSV sample file or a string containing a sample CSV document.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Separators&#39;&gt;Column delimiter(s). Defaults to `,`.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;InferRows&#39;&gt;Number of rows to use for inference. Defaults to `1000`. If this is zero, all rows are used.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Schema&#39;&gt;Optional column types, in a comma separated list. Valid types are `int`, `int64`, `bool`, `float`, `decimal`, `date`, `guid`, `string`, `int?`, `int64?`, `bool?`, `float?`, `decimal?`, `date?`, `guid?`, `int option`, `int64 option`, `bool option`, `float option`, `decimal option`, `date option`, `guid option` and `string option`.<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;You can also specify a unit and the name of the column like this: `Name (type&amp;lt;unit&amp;gt;)`, or you can override only the name. If you don&#39;t want to specify all the columns, you can reference the columns by name like this: `ColumnName=type`.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;HasHeaders&#39;&gt;Whether the sample contains the names of the columns as its first line.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;IgnoreErrors&#39;&gt;Whether to ignore rows that have the wrong number of columns or which can&#39;t be parsed using the inferred or specified schema. Otherwise an exception is thrown when these rows are encountered.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;SkipRows&#39;&gt;SKips the first n rows of the CSV file.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;AssumeMissingValues&#39;&gt;When set to true, the type provider will assume all columns can have missing values, even if in the provided sample all values are present. Defaults to false.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;PreferOptionals&#39;&gt;When set to true, inference will prefer to use the option type instead of nullable types, `double.NaN` or `&quot;&quot;` for missing values. Defaults to false.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Quote&#39;&gt;The quotation mark (for surrounding values containing the delimiter). Defaults to `&quot;`.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;MissingValues&#39;&gt;The set of strings recogized as missing values. Defaults to `NaN,NA,N/A,#N/A,:,-,TBA,TBD`.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;CacheRows&#39;&gt;Whether the rows should be caches so they can be iterated multiple times. Defaults to true. Disable for large datasets.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Culture&#39;&gt;The culture used for parsing numbers and dates. Defaults to the invariant culture.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Encoding&#39;&gt;The encoding used to read the sample. You can specify either the character set name or the codepage number. Defaults to UTF8 for files, and to ISO-8859-1 the for HTTP requests, unless `charset` is specified in the `Content-Type` response header.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;ResolutionFolder&#39;&gt;A directory that is used when resolving relative file references (at design time and in hosted execution).&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;EmbeddedResource&#39;&gt;When specified, the type provider first attempts to load the sample from the specified resource <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(e.g. &#39;MyCompany.MyAssembly, resource_name.csv&#39;). This is useful when exposing types generated by the type provider.&lt;/param&gt;</em></div>
<div class="tip" id="fs15">val smallSources : string list<br /><br />Full name: 200-house-data-analysis-example.smallSources</div>
<div class="tip" id="fs16">val bigSources : string list<br /><br />Full name: 200-house-data-analysis-example.bigSources</div>
<div class="tip" id="fs17">val tinySources : string list<br /><br />Full name: 200-house-data-analysis-example.tinySources</div>
<div class="tip" id="fs18">val sources : string list<br /><br />Full name: 200-house-data-analysis-example.sources</div>
<div class="tip" id="fs19">val pricesTask : MBrace.Runtime.CloudProcess&lt;((int * int) * float) []&gt;<br /><br />Full name: 200-house-data-analysis-example.pricesTask</div>
<div class="tip" id="fs20">Multiple items<br />module CloudFlow<br /><br />from MBrace.Flow<br /><br />--------------------<br />module CloudFlow<br /><br />from Utils<br /><br />--------------------<br />type CloudFlow =<br />&#160;&#160;static member OfArray : source:&#39;T [] -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudArrays : cloudArrays:seq&lt;#CloudArray&lt;&#39;T&gt;&gt; -&gt; LocalCloud&lt;PersistedCloudFlow&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member OfCloudCollection : collection:ICloudCollection&lt;&#39;T&gt; * ?sizeThresholdPerWorker:(unit -&gt; int64) -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudDirectory : dirPath:string * serializer:ISerializer * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudDirectory : dirPath:string * ?deserializer:(Stream -&gt; seq&lt;&#39;T&gt;) * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudDirectory : dirPath:string * deserializer:(TextReader -&gt; seq&lt;&#39;T&gt;) * ?encoding:Encoding * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudDirectoryByLine : dirPath:string * ?encoding:Encoding * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;string&gt;<br />&#160;&#160;static member OfCloudFileByLine : path:string * ?encoding:Encoding -&gt; CloudFlow&lt;string&gt;<br />&#160;&#160;static member OfCloudFileByLine : paths:seq&lt;string&gt; * ?encoding:Encoding * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;string&gt;<br />&#160;&#160;static member OfCloudFiles : paths:seq&lt;string&gt; * serializer:ISerializer * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;...<br /><br />Full name: MBrace.Flow.CloudFlow<br /><br />--------------------<br />type CloudFlow&lt;&#39;T&gt; =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member WithEvaluators : collectorFactory:LocalCloud&lt;Collector&lt;&#39;T,&#39;S&gt;&gt; -&gt; projection:(&#39;S -&gt; LocalCloud&lt;&#39;R&gt;) -&gt; combiner:(&#39;R [] -&gt; LocalCloud&lt;&#39;R&gt;) -&gt; Cloud&lt;&#39;R&gt;<br />&#160;&#160;&#160;&#160;abstract member DegreeOfParallelism : int option<br />&#160;&#160;end<br /><br />Full name: MBrace.Flow.CloudFlow&lt;_&gt;</div>
<div class="tip" id="fs21">static member CloudFlow.OfHttpFileByLine : urls:seq&lt;string&gt; * ?encoding:Text.Encoding -&gt; CloudFlow&lt;string&gt;<br />static member CloudFlow.OfHttpFileByLine : url:string * ?encoding:Text.Encoding -&gt; CloudFlow&lt;string&gt;</div>
<div class="tip" id="fs22">val collect : f:(&#39;T -&gt; #seq&lt;&#39;R&gt;) -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;R&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.collect</div>
<div class="tip" id="fs23">CsvProvider&lt;...&gt;.ParseRows(text: string) : CsvProvider&lt;...&gt;.Row []</div>
<div class="tip" id="fs24">Multiple items<br />val averageByKey : keyProjection:(&#39;T -&gt; &#39;Key) -&gt; valueProjection:(&#39;T -&gt; &#39;Value) -&gt; source:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;Key * &#39;Value&gt; (requires equality and member ( + ) and member get_Zero and member DivideByInt)<br /><br />Full name: MBrace.Flow.CloudFlow.averageByKey<br /><br />--------------------<br />val averageByKey : keyf:(&#39;T -&gt; &#39;Key) -&gt; valf:(&#39;T -&gt; &#39;Val) -&gt; x:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;Key * &#39;Val&gt; (requires equality and member ( + ) and member get_Zero and member DivideByInt)<br /><br />Full name: Utils.CloudFlow.averageByKey</div>
<div class="tip" id="fs25">val row : CsvProvider&lt;...&gt;.Row</div>
<div class="tip" id="fs26">property CsvProvider&lt;...&gt;.Row.DateOfTransfer: DateTime</div>
<div class="tip" id="fs27">property DateTime.Year: int</div>
<div class="tip" id="fs28">property DateTime.Month: int</div>
<div class="tip" id="fs29">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs30">property CsvProvider&lt;...&gt;.Row.Price: int</div>
<div class="tip" id="fs31">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; takeCount:int -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: MBrace.Flow.CloudFlow.sortBy</div>
<div class="tip" id="fs32">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs33">val toArray : flow:CloudFlow&lt;&#39;T&gt; -&gt; MBrace.Core.Cloud&lt;&#39;T []&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.toArray</div>
<div class="tip" id="fs34">member MBrace.Runtime.MBraceClient.CreateProcess : workflow:MBrace.Core.Cloud&lt;&#39;T&gt; * ?cancellationToken:MBrace.Core.ICloudCancellationToken * ?faultPolicy:MBrace.Core.FaultPolicy * ?target:MBrace.Core.IWorkerRef * ?additionalResources:MBrace.Core.Internals.ResourceRegistry * ?taskName:string -&gt; MBrace.Runtime.CloudProcess&lt;&#39;T&gt;</div>
<div class="tip" id="fs35">member MBrace.Runtime.CloudProcess.ShowInfo : unit -&gt; unit</div>
<div class="tip" id="fs36">member MBrace.Runtime.MBraceClient.ShowWorkers : unit -&gt; unit</div>
<div class="tip" id="fs37">val prices : ((int * int) * float) []<br /><br />Full name: 200-house-data-analysis-example.prices</div>
<div class="tip" id="fs38">property MBrace.Runtime.CloudProcess.Result: ((int * int) * float) []</div>
<div class="tip" id="fs39">val formatYearMonth : year:int * month:int -&gt; string<br /><br />Full name: 200-house-data-analysis-example.formatYearMonth</div>
<div class="tip" id="fs40">val year : int</div>
<div class="tip" id="fs41">val month : int</div>
<div class="tip" id="fs42">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.sprintf</div>
<div class="tip" id="fs43">Multiple items<br />type DateTime =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : ticks:int64 -&gt; DateTime + 10 overloads<br />&#160;&#160;&#160;&#160;member Add : value:TimeSpan -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddDays : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddHours : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMilliseconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMinutes : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMonths : months:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddSeconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddTicks : value:int64 -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddYears : value:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.DateTime<br /><br />--------------------<br />DateTime()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="tip" id="fs44">val chartPrices : prices:seq&lt;(int * int) * #value&gt; -&gt; GoogleChart<br /><br />Full name: 200-house-data-analysis-example.chartPrices</div>
<div class="tip" id="fs45">val prices : seq&lt;(int * int) * #value&gt;</div>
<div class="tip" id="fs46">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs47">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.map</div>
<div class="tip" id="fs48">val ym : int * int</div>
<div class="tip" id="fs49">val price : #value</div>
<div class="tip" id="fs50">type Chart =<br />&#160;&#160;static member Annotation : data:seq&lt;#seq&lt;DateTime * &#39;V * string * string&gt;&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart (requires &#39;V :&gt; value)<br />&#160;&#160;static member Annotation : data:seq&lt;DateTime * #value * string * string&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart<br />&#160;&#160;static member Area : data:seq&lt;#seq&lt;&#39;K * &#39;V&gt;&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart (requires &#39;K :&gt; key and &#39;V :&gt; value)<br />&#160;&#160;static member Area : data:seq&lt;#key * #value&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart<br />&#160;&#160;static member Bar : data:seq&lt;#seq&lt;&#39;K * &#39;V&gt;&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart (requires &#39;K :&gt; key and &#39;V :&gt; value)<br />&#160;&#160;static member Bar : data:seq&lt;#key * #value&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart<br />&#160;&#160;static member Bubble : data:seq&lt;string * #value * #value * #value * #value&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart<br />&#160;&#160;static member Bubble : data:seq&lt;string * #value * #value * #value&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart<br />&#160;&#160;static member Bubble : data:seq&lt;string * #value * #value&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart<br />&#160;&#160;static member Calendar : data:seq&lt;DateTime * #value&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart<br />&#160;&#160;...<br /><br />Full name: XPlot.GoogleCharts.Chart</div>
<div class="tip" id="fs51">static member Chart.Line : data:seq&lt;#seq&lt;&#39;K * &#39;V&gt;&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart (requires &#39;K :&gt; key and &#39;V :&gt; value)<br />static member Chart.Line : data:seq&lt;#key * #value&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart</div>
<div class="tip" id="fs52">static member Chart.WithOptions : options:Options -&gt; chart:GoogleChart -&gt; GoogleChart</div>
<div class="tip" id="fs53">Multiple items<br />type Options =<br />&#160;&#160;new : unit -&gt; Options<br />&#160;&#160;member ShouldSerializeaggregationTarget : unit -&gt; bool<br />&#160;&#160;member ShouldSerializeallValuesSuffix : unit -&gt; bool<br />&#160;&#160;member ShouldSerializeallowHtml : unit -&gt; bool<br />&#160;&#160;member ShouldSerializealternatingRowStyle : unit -&gt; bool<br />&#160;&#160;member ShouldSerializeanimation : unit -&gt; bool<br />&#160;&#160;member ShouldSerializeannotations : unit -&gt; bool<br />&#160;&#160;member ShouldSerializeannotationsWidth : unit -&gt; bool<br />&#160;&#160;member ShouldSerializeareaOpacity : unit -&gt; bool<br />&#160;&#160;member ShouldSerializeavoidOverlappingGridLines : unit -&gt; bool<br />&#160;&#160;...<br /><br />Full name: XPlot.GoogleCharts.Configuration.Options<br /><br />--------------------<br />new : unit -&gt; Options</div>
<div class="tip" id="fs54">static member Chart.Show : chart:GoogleChart -&gt; GoogleChart</div>
<div class="tip" id="fs55">val persistedHousePricesTask : MBrace.Runtime.CloudProcess&lt;PersistedCloudFlow&lt;CsvProvider&lt;...&gt;.Row&gt;&gt;<br /><br />Full name: 200-house-data-analysis-example.persistedHousePricesTask</div>
<div class="tip" id="fs56">val persist : storageLevel:MBrace.Core.StorageLevel -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; MBrace.Core.Cloud&lt;PersistedCloudFlow&lt;&#39;T&gt;&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.persist</div>
<div class="tip" id="fs57">val persistedHousePrices : PersistedCloudFlow&lt;CsvProvider&lt;...&gt;.Row&gt;<br /><br />Full name: 200-house-data-analysis-example.persistedHousePrices</div>
<div class="tip" id="fs58">property MBrace.Runtime.CloudProcess.Result: PersistedCloudFlow&lt;CsvProvider&lt;...&gt;.Row&gt;</div>
<div class="tip" id="fs59">val count : int64<br /><br />Full name: 200-house-data-analysis-example.count</div>
<div class="tip" id="fs60">val length : flow:CloudFlow&lt;&#39;T&gt; -&gt; MBrace.Core.Cloud&lt;int64&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.length</div>
<div class="tip" id="fs61">member MBrace.Runtime.MBraceClient.Run : workflow:MBrace.Core.Cloud&lt;&#39;T&gt; * ?cancellationToken:MBrace.Core.ICloudCancellationToken * ?faultPolicy:MBrace.Core.FaultPolicy * ?target:MBrace.Core.IWorkerRef * ?additionalResources:MBrace.Core.Internals.ResourceRegistry * ?taskName:string -&gt; &#39;T</div>
<div class="tip" id="fs62">val first100 : CsvProvider&lt;...&gt;.Row []<br /><br />Full name: 200-house-data-analysis-example.first100</div>
<div class="tip" id="fs63">val take : n:int -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;T&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.take</div>
<div class="tip" id="fs64">val pricesByMonthTask : MBrace.Runtime.CloudProcess&lt;((int * int) * float) []&gt;<br /><br />Full name: 200-house-data-analysis-example.pricesByMonthTask</div>
<div class="tip" id="fs65">val pricesByMonth : ((int * int) * float) []<br /><br />Full name: 200-house-data-analysis-example.pricesByMonth</div>
<div class="tip" id="fs66">val averagePricesTask : MBrace.Runtime.CloudProcess&lt;PersistedCloudFlow&lt;(string * string * string) * float&gt;&gt;<br /><br />Full name: 200-house-data-analysis-example.averagePricesTask</div>
<div class="tip" id="fs67">property CsvProvider&lt;...&gt;.Row.TownCity: string</div>
<div class="tip" id="fs68">property CsvProvider&lt;...&gt;.Row.District: string</div>
<div class="tip" id="fs69">property CsvProvider&lt;...&gt;.Row.Street: string</div>
<div class="tip" id="fs70">val cache : flow:CloudFlow&lt;&#39;T&gt; -&gt; MBrace.Core.Cloud&lt;PersistedCloudFlow&lt;&#39;T&gt;&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.cache</div>
<div class="tip" id="fs71">val averagePrices : PersistedCloudFlow&lt;(string * string * string) * float&gt;<br /><br />Full name: 200-house-data-analysis-example.averagePrices</div>
<div class="tip" id="fs72">property MBrace.Runtime.CloudProcess.Result: PersistedCloudFlow&lt;(string * string * string) * float&gt;</div>
<div class="tip" id="fs73">val mostExpensive : ((string * string * string) * float) []<br /><br />Full name: 200-house-data-analysis-example.mostExpensive</div>
<div class="tip" id="fs74">val sortByDescending : projection:(&#39;T -&gt; &#39;Key) -&gt; takeCount:int -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: MBrace.Flow.CloudFlow.sortByDescending</div>
<div class="tip" id="fs75">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Operators.snd</div>
<div class="tip" id="fs76">val leastExpensive : ((string * string * string) * float) []<br /><br />Full name: 200-house-data-analysis-example.leastExpensive</div>
<div class="tip" id="fs77">val purchasesByCity : (string * int64) []<br /><br />Full name: 200-house-data-analysis-example.purchasesByCity</div>
<div class="tip" id="fs78">val countBy : projection:(&#39;T -&gt; &#39;Key) -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;Key * int64&gt; (requires equality)<br /><br />Full name: MBrace.Flow.CloudFlow.countBy</div>
<div class="tip" id="fs79">static member Chart.Pie : data:seq&lt;string * #value&gt; * ?Labels:seq&lt;string&gt; * ?Options:Options -&gt; GoogleChart</div>
<div class="tip" id="fs80">type MonopolyTable = HtmlProvider&lt;...&gt;<br /><br />Full name: 200-house-data-analysis-example.MonopolyTable</div>
<div class="tip" id="fs81">type HtmlProvider<br /><br />Full name: FSharp.Data.HtmlProvider<br /><em><br /><br />&lt;summary&gt;Typed representation of an HTML file.&lt;/summary&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Sample&#39;&gt;Location of an HTML sample file or a string containing a sample HTML document.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;PreferOptionals&#39;&gt;When set to true, inference will prefer to use the option type instead of nullable types, `double.NaN` or `&quot;&quot;` for missing values. Defaults to false.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;IncludeLayoutTables&#39;&gt;Includes tables that are potentially layout tables (with cellpadding=0 and cellspacing=0 attributes)&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;MissingValues&#39;&gt;The set of strings recogized as missing values. Defaults to `NaN,NA,N/A,#N/A,:,-,TBA,TBD`.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Culture&#39;&gt;The culture used for parsing numbers and dates. Defaults to the invariant culture.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Encoding&#39;&gt;The encoding used to read the sample. You can specify either the character set name or the codepage number. Defaults to UTF8 for files, and to ISO-8859-1 the for HTTP requests, unless `charset` is specified in the `Content-Type` response header.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;ResolutionFolder&#39;&gt;A directory that is used when resolving relative file references (at design time and in hosted execution).&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;EmbeddedResource&#39;&gt;When specified, the type provider first attempts to load the sample from the specified resource <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(e.g. &#39;MyCompany.MyAssembly, resource_name.html&#39;). This is useful when exposing types generated by the type provider.&lt;/param&gt;</em></div>
<div class="tip" id="fs82">val monopolyPage : HtmlProvider&lt;...&gt;<br /><br />Full name: 200-house-data-analysis-example.monopolyPage</div>
<div class="tip" id="fs83">HtmlProvider&lt;...&gt;.GetSample() : HtmlProvider&lt;...&gt;</div>
<div class="tip" id="fs84">val data : HtmlProvider&lt;...&gt;.Table2.Row []<br /><br />Full name: 200-house-data-analysis-example.data</div>
<div class="tip" id="fs85">property HtmlProvider&lt;...&gt;.Tables: HtmlProvider&lt;...&gt;.TablesContainer</div>
<div class="tip" id="fs86">property HtmlProvider&lt;...&gt;.TablesContainer.Table2: HtmlProvider&lt;...&gt;.Table2</div>
<div class="tip" id="fs87">property Runtime.BaseTypes.HtmlTable.Rows: HtmlProvider&lt;...&gt;.Table2.Row []</div>
<div class="tip" id="fs88">val monopolyStreets : Set&lt;string&gt;<br /><br />Full name: 200-house-data-analysis-example.monopolyStreets</div>
<div class="tip" id="fs89">val p : HtmlProvider&lt;...&gt;.Table2.Row</div>
<div class="tip" id="fs90">val streetName : string</div>
<div class="tip" id="fs91">property HtmlProvider&lt;...&gt;.Table2.Row.Property: string</div>
<div class="tip" id="fs92">String.ToLower() : string<br />String.ToLower(culture: Globalization.CultureInfo) : string</div>
<div class="tip" id="fs93">val set : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.set</div>
<div class="tip" id="fs94">val monopoly : ((string * string * string) * float) []<br /><br />Full name: 200-house-data-analysis-example.monopoly</div>
<div class="tip" id="fs95">val filter : predicate:(&#39;T -&gt; bool) -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;T&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.filter</div>
<div class="tip" id="fs96">val city : string</div>
<div class="tip" id="fs97">val district : string</div>
<div class="tip" id="fs98">val street : string</div>
<div class="tip" id="fs99">val price : float</div>
<div class="tip" id="fs100">member Set.Contains : value:&#39;T -&gt; bool</div>

        </div>
        <div class="span3">
          <a href="http://www.mbrace.io/index.html">
            <img src="http://www.mbrace.io/img/mbrace.png" alt="F# Project" style="width:150px;margin:10px" />
          </a>
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">MBrace.Core and MBrace.Azure</li>
            <li><a href="http://www.mbrace.io/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://www.nuget.org/packages/MBrace.Core">Get Library via NuGet</a></li>
            <li><a href="http://github.com/mbraceproject/MBrace.Core">Source Code on GitHub</a></li>
            <li><a href="http://github.com/mbraceproject/MBrace.Core/blob/master/LICENSE.md">License</a></li>
            <li><a href="http://github.com/mbraceproject/MBrace.Core/blob/master/RELEASE_NOTES.md">Release Notes</a></li>

            <li class="nav-header">Getting Started</li>
            <li><a href="http://www.mbrace.io/thespian-tutorial.html">Local cluster</a></li>
            <li><a href="http://www.mbrace.io/azure-tutorial.html">Azure cluster</a></li>
            <li class="divider"></li>
            <li><a target="_blank" href="http://www.mbrace.io/mbrace-plos.pdf">PLOS'13 Publication</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="http://www.mbrace.io/programming-model.html">Programming model</a></li>
            <li><a href="http://www.mbrace.io/reference/core/index.html">API Reference (MBrace.Core)</a></li>
            <li><a href="http://www.mbrace.io/reference/runtime/index.html">API Reference (MBrace.Runtime)</a></li>
            <li><a href="http://www.mbrace.io/reference/flow/index.html">API Reference (MBrace.Flow)</a></li>
            <li class="divider"></li>
            <li><a href="http://www.mbrace.io/reference/thespian/index.html">Reference (Local)</a></li>
            <li><a href="http://www.mbrace.io/reference/azure/index.html">Reference (Azure)</a></li>
              <li><a href="http://www.mbrace.io/reference/aws/index.html">Reference (AWS)</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/mbraceproject/MBrace.Core"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
